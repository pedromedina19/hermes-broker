enum DeliveryMode {
  CONSISTENT
  EVENTUAL
  PERFORMANCE
}

type Message {
  id: ID!
  topic: String!
  payload: String!
  timestamp: Int!
}

type PublishResponse {
  success: Boolean!
}

type Query {
  health: String!
}

type Mutation {
  publish(topic: String!, payload: String!, mode: DeliveryMode): PublishResponse!
  publishBatch(topic: String!, payloads: [String!]!, mode: DeliveryMode): PublishResponse!
}

type Subscription {
  subscribe(topic: String!, groupId: String): Message!
}